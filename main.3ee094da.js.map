{"version":3,"sources":["scripts/main.js"],"names":["convertToNumber","str","numb","replace","listElements","document","querySelector","children","addEventListener","e","element","className","target","parentNode","clickNumber","sortAll","i","length","cellIndex","arraySort","sort","a","b","querySelectorAll","strA1","firstElementChild","textContent","strB1","localeCompare","strA2","nextElementSibling","strB2","strA3","strB3","lastElementChild","previousElementSibling","salaryA","salaryB","innerHTML","item","formElement","createElement","body","append","x","code","preventDefault","focus","data","FormData","get","trim","pushNotification","newEmployee","Object","fromEntries","entries","salaryNumber","salary","toLocaleString","newRow","key","newCell","inputData","setAttribute","initialValue","test","saveData","salaryNumberCell","value","remove","posTop","posRight","title","description","type","notif","titleEl","descriptionEl","style","top","right","setTimeout"],"mappings":"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","file":"main.3ee094da.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nfunction convertToNumber(str) {\n  const numb = +str.replace(/\\D/g, '');\n\n  return numb;\n}\n\nconst listElements = document.querySelector('tbody').children;\n\ndocument.querySelector('tbody').addEventListener('click', (e) => {\n  for (const element of listElements) {\n    if (element.className === 'active') {\n      element.className = '';\n    }\n  }\n\n  e.target.parentNode.className = 'active';\n});\n\nconst clickNumber = [0, 0, 0, 0, 0];\n\nconst sortAll = (e) => {\n  for (let i = 0; i < clickNumber.length; i++) {\n    if (i === e.target.cellIndex) {\n      clickNumber[i] += 1;\n    } else {\n      clickNumber[i] = 0;\n    }\n  }\n\n  const arraySort = [...listElements].sort((a, b) => {\n    switch (e.target) {\n      case document.querySelectorAll('th')[0]:\n        const strA1 = a.firstElementChild.textContent;\n        const strB1 = b.firstElementChild.textContent;\n\n        if (clickNumber[0] % 2 !== 0) {\n          return strA1.localeCompare(strB1);\n        }\n\n        return strB1.localeCompare(strA1);\n\n      case document.querySelectorAll('th')[1]:\n        const strA2 = a.firstElementChild.nextElementSibling.textContent;\n        const strB2 = b.firstElementChild.nextElementSibling.textContent;\n\n        if (clickNumber[1] % 2 !== 0) {\n          return strA2.localeCompare(strB2);\n        }\n\n        return strB2.localeCompare(strA2);\n\n      case document.querySelectorAll('th')[2]:\n        const strA3\n        = a.firstElementChild.nextElementSibling.nextElementSibling.textContent;\n        const strB3\n        = b.firstElementChild.nextElementSibling.nextElementSibling.textContent;\n\n        if (clickNumber[2] % 2 !== 0) {\n          return strA3.localeCompare(strB3);\n        }\n\n        return strB3.localeCompare(strA3);\n\n      case document.querySelectorAll('th')[3]:\n        if (clickNumber[3] % 2 !== 0) {\n          return a.lastElementChild.previousElementSibling.textContent\n          - b.lastElementChild.previousElementSibling.textContent;\n        }\n\n        return b.lastElementChild.previousElementSibling.textContent\n        - a.lastElementChild.previousElementSibling.textContent;\n\n      case document.querySelectorAll('th')[4]:\n        const salaryA = convertToNumber(a.lastElementChild.textContent);\n        const salaryB = convertToNumber(b.lastElementChild.textContent);\n\n        if (clickNumber[4] % 2 !== 0) {\n          return salaryA - salaryB;\n        }\n\n        return salaryB - salaryA;\n    }\n  });\n\n  document.querySelector('tbody').innerHTML = '';\n\n  for (const item of arraySort) {\n    document.querySelector('tbody').innerHTML += `\n      <tr>\n      <td>${item.firstElementChild.textContent}</td>\n      <td>${item.firstElementChild.nextElementSibling.textContent}</td>\n      <td>${\n  item.firstElementChild.nextElementSibling.nextElementSibling.textContent\n}</td>\n      <td>${item.lastElementChild.previousElementSibling.textContent}</td>\n      <td>${item.lastElementChild.textContent}</td>\n      </tr>\n    `;\n  }\n};\n\ndocument.querySelectorAll('th')[0].addEventListener('click', sortAll);\ndocument.querySelectorAll('th')[1].addEventListener('click', sortAll);\ndocument.querySelectorAll('th')[2].addEventListener('click', sortAll);\ndocument.querySelectorAll('th')[3].addEventListener('click', sortAll);\ndocument.querySelectorAll('th')[4].addEventListener('click', sortAll);\n\nconst formElement = document.createElement('form');\n\nformElement.className = 'new-employee-form';\n\ndocument.body.append(formElement);\n\nformElement.innerHTML += `\n<label>Name: \n  <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n</label>\n<label>Position: \n  <input name=\"position\" type=\"text\" data-qa=\"position\">\n</label>\n<label>Office: \n  <select name=\"office\" data-qa=\"office\" required>\n    <option value=\"Tokyo\">Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n  </select>\n</label>\n<label>Age: \n  <input name=\"age\" type=\"number\" data-qa=\"age\" required>\n</label>\n<label>Salary: \n  <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n</label>\n<button type=\"submit\">Save to table</button>\n`;\n\nfor (let i = 0; i < formElement.length - 1; i++) {\n  formElement[i].addEventListener('keydown', (x) => {\n    if (x.code === 'Enter') {\n      x.preventDefault();\n      formElement[i + 1].focus();\n    }\n  });\n}\n\nformElement.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(formElement);\n\n  if (data.get('name').trim().length < 4\n    || data.get('age') < 18\n    || data.get('age') > 90\n    || data.get('salary') < 0\n    || data.get('position').trim() === '') {\n    pushNotification(150, 10, 'Error',\n      'Please correct the data. All fields are required.'\n      + ' Name length: min - 4 characters. Age: min - 18, max - 90.'\n      + ' Salary: min - 0.',\n      'error');\n  } else {\n    const newEmployee = Object.fromEntries(data.entries());\n    const salaryNumber = +newEmployee.salary;\n\n    newEmployee.salary = '$' + salaryNumber.toLocaleString('en-US');\n\n    const newRow = document.createElement('tr');\n\n    for (const key in newEmployee) {\n      const newCell = document.createElement('td');\n\n      newCell.textContent = newEmployee[key];\n\n      newRow.append(newCell);\n    }\n\n    document.querySelector('tbody').append(newRow);\n\n    pushNotification(10, 10, 'Success', 'New employee was added.', 'success');\n  }\n});\n\ndocument.querySelector('tbody').addEventListener('dblclick', (e) => {\n  let inputData;\n\n  if (e.target === e.target.parentNode.firstElementChild\n    .nextElementSibling.nextElementSibling) {\n    inputData = document.createElement('select');\n\n    inputData.innerHTML = `\n    <option value=\"Tokyo\">Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n    `;\n  } else {\n    inputData = document.createElement('input');\n  }\n\n  inputData.className = 'cell-input';\n\n  inputData.setAttribute('value', `${e.target.textContent}`);\n\n  const initialValue = e.target.textContent;\n\n  if (/^[0-9]+$/.test(e.target.textContent)) {\n    inputData.setAttribute('type', `number`);\n  }\n\n  if (/[$]/.test(e.target.textContent)) {\n    inputData.setAttribute('type', `number`);\n  }\n\n  e.target.textContent = '';\n\n  e.target.append(inputData);\n  inputData.focus();\n\n  const saveData = () => {\n    if (/[$]/.test(initialValue)) {\n      const salaryNumberCell = +inputData.value;\n\n      e.target.textContent\n      = '$' + salaryNumberCell.toLocaleString('en-US');\n    } else {\n      e.target.textContent = inputData.value.trim();\n    }\n\n    if (/^[0-9]+$/.test(initialValue)\n      && (inputData.value < 18\n      || inputData.value > 90)) {\n      e.target.textContent = initialValue;\n    }\n\n    if (e.target.textContent === ''\n      || e.target.textContent === '$0') {\n      e.target.textContent = initialValue;\n    }\n\n    inputData.remove();\n  };\n\n  inputData.addEventListener('blur', saveData);\n\n  inputData.addEventListener('keydown', (x) => {\n    if (x.code === 'Enter') {\n      saveData();\n    }\n  });\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notif = document.createElement('div');\n  const titleEl = document.createElement('h2');\n  const descriptionEl = document.createElement('p');\n\n  titleEl.textContent = title;\n  descriptionEl.textContent = description;\n  notif.style.top = `${posTop}px`;\n  notif.style.right = `${posRight}px`;\n  titleEl.className = 'title';\n  notif.className = 'notification';\n\n  if (type === 'success') {\n    notif.className += ' success';\n  }\n\n  if (type === 'error') {\n    notif.className += ' error';\n  }\n\n  notif.setAttribute('data-qa', 'notification');\n  notif.append(titleEl);\n  notif.append(descriptionEl);\n  document.body.append(notif);\n\n  setTimeout(() => {\n    notif.remove();\n  }, 3000);\n};\n"]}